WASHINGTON  —   When Speaker Paul D. Ryan arrived at the White House on Friday to inform President Trump that the health care bill he had made his first major legislative push could not pass, Mr. Trump had one reaction: He wanted revenge. Furious at rebellious Republicans who refused to back the measure, Mr. Trump demanded that defectors cast “no” votes for all to see  —   even if it meant the measure’s   defeat, broadcast live on television. But over a lunch of chicken, brussels sprouts and   potatoes in the Oval Office, Mr. Ryan pleaded with Mr. Trump to reconsider. A loss could do lasting political damage to Republicans who supported the contentious bill, Mr. Ryan argued, especially those in competitive districts who were vulnerable to primary challenges. It would do nothing to isolate or punish the Freedom Caucus, the conservative faction that had resisted the measure all along, he added. And it could alienate    Republicans needed to push through other challenging initiatives in the weeks to come, including an increase in the debt ceiling, a sweeping tax cut and the president’s promised $1 trillion infrastructure package. Mr. Trump remained unconvinced, but by midafternoon, armed with vote counts showing that the measure lacked a majority to pass, the president called the speaker to agree: You should pull the bill. The collapse of the measure dealt Mr. Trump  —   a professed master dealmaker who campaigned as an agent of change  —   a remarkable setback in his young presidency, threatening to sap his influence and imperil his ambitious agenda. It also highlighted the importance of a pairing that will shape the Trump era: a president inexperienced in the complexities of politics and uninterested in the nuance of policy, paired with a vulnerable speaker struggling to corral competing coalitions within the Republican Party. With repeal and replace now a hollow vow, Mr. Trump’s anger at the defiant members of the Freedom Caucus was undiminished. But trying to put the best possible face on a major defeat late Friday afternoon, he confined his public criticism to Democrats. “When you get zero from the other side  —   they let us down because they’re hurting the people,” Mr. Trump said in a telephone interview shortly after he had agreed to pull the measure. Asked whether he was worried the loss would hurt Republicans, he said, “I’ll let you know in a year. ” The demise of the American Health Care Act played out in a tense 24 hours that White House and congressional officials said proved a political education for Mr. Trump and his top advisers on the promise and peril of governing, even with unified Republican control. This account is based on government officials who were present during the   negotiations and who spoke on the condition of anonymity. “We all learned a lot,” Mr. Trump told reporters on Friday afternoon. “We learned a lot about loyalty, and we learned a lot about the   process. ” “Certainly for me, it was a very interesting experience,” he added. Mr. Trump, who initially had little involvement in crafting the health care bill, became more deeply engaged in recent weeks, promoting it at rallies outside Washington and holding meetings in the West Wing with conservative and moderate coalitions whose support was crucial to its passage. But he made little secret of his ambivalence about addressing the issue  —   “I would have loved to have put it first, I’ll be honest,” Mr. Trump said of tax reform in Nashville last week  —   yet he told aides he believed the measure could not pass without a push from him. By Thursday afternoon, just hours before a scheduled vote, it had become clear that his efforts  —   along with those of Vice President Mike Pence and other senior White House officials  —   had fallen short. At a meeting in Mr. Ryan’s office in the Capitol with members of the recalcitrant Freedom Caucus, top White House officials laid out the changes they had made at the group’s behest, including stripping it of federal standards for benefits that must be provided in health insurance policies, including maternity and wellness care. Caucus members began outlining still more changes they needed to see before they could support the bill, angering Mr. Ryan and Mr. Trump’s aides. Stephen K. Bannon, the president’s chief strategist, and Mick Mulvaney, his budget director, told the group that the White House was finished negotiating and that the president wanted to know its position on the bill  —   yes or no. Called on in turn to state their positions, several members refused. As tensions rose, Representative Mark Meadows of North Carolina said that he spoke for the group and that they were not ready to commit. That meant the votes would not be there. Mr. Ryan postponed the vote and called an evening meeting of House Republicans in the basement of the Capitol. Lawmakers munched on    takeout as Mr. Mulvaney delivered the president’s ultimatum on the health measure: Fall in line behind it or accept that former President Barack Obama’s Affordable Care Act would be the law of the land. The speaker emerged and told reporters there would be a vote in the morning, rushing away from the news cameras as he was asked if Republicans had the votes. In a   telephone call Thursday evening between Mr. Trump and Mr. Ryan, the two commiserated over the demands of the caucus and strategized over the prospects for a vote on Friday. Even as the two spoke, some of Mr. Trump’s advisers were privately expressing frustration with Mr. Ryan, arguing that he had badly misjudged the situation and misled the president into tackling health care before a tax overhaul. The meeting with the Freedom Caucus had prompted a realization by Mr. Trump and his inner circle about how the group operated, and that offering it policy concessions would not win its support. By Friday, Mr. Trump was out for blood, eager to call the bluff of the Freedom Caucus and savage it if the health bill went down in defeat. Mr. Bannon and Marc Short, Mr. Trump’s legislative affairs director, both favored holding the vote. But Mr. Ryan, reluctant to suffer an embarrassing loss or to ask his fellow Republicans to take what could be a politically perilous vote on a measure that had little chance of passing, argued vigorously against it. White House officials still believed as much as half of the   Freedom Caucus could be pressured into supporting the bill, and Mr. Bannon demanded to see a confidential   list that demonstrated otherwise. The numbers were grim, and Mr. Trump called Mr. Ryan to acquiesce into calling off the vote. “I don’t blame him for a thing, I really don’t,” Mr. Trump said of Mr. Ryan in the interview on Friday. “Look, he tried. He tried very hard. ” But one close adviser said that Mr. Trump, who hates looking weak or any form of embarrassment in public, was stewing. One ally of the president, however, said that he had learned from the process. Christopher Ruddy, the chief executive of Newsmax Media and a longtime friend of Mr. Trump, said he thought it was a “blessing in disguise” that the bill had died. “This bill was a political bullet aimed at the president and congressional Republicans running for office next year,” he said. “On future legislation, he won’t make the same mistakes. ” As Mr. Trump reflected on the health care debacle, the president who had predicted during the campaign that he would win so often that people would become “sick of winning” insisted that he was at peace with the day’s results. “I’m not disappointed,” he said in the interview. “If I were, I wouldn’t be calling you. ” He said that he was moving on to overhauling the tax system and trade, describing the experience with the health bill as not that different from some of his negotiations as a   developer. But he acknowledged that he was pleased to have it all behind him. “It’s enough already,” he said.