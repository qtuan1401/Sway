DOYLESTOWN, Pa.  —   Donald J. Trump has been waiting for months for a poll in which he cracks 50 percent of the vote against Hillary Clinton in any of his top battleground states: Florida, New Hampshire, Ohio or Pennsylvania. “It’ll happen after the conventions,” he said in a July 6 interview. “Believe me. ” But in the last two weeks, instead of attracting a surge of new admirers, Mr. Trump has been hemorrhaging support among loyal Republicans,   independents,   Democrats and others, according to polls and 30 interviews with a   of voters. His dispute with the parents of a Muslim Army captain who was killed in action in Iraq, and his suggestion that “Second Amendment people” could somehow stop Mrs. Clinton, have intensified doubts about Mr. Trump even among Americans who were initially attracted to his frank and freewheeling style. For a candidate who once seemed like an electoral phenomenon, with an unshakable following and a celebrity appeal that crossed party lines, Mr. Trump now faces the possibility that his missteps have erected a ceiling over his support among some demographic groups and in several swing states. He has been stuck under 45 percent of the vote in Ohio and Pennsylvania for weeks, polls show, while Mrs. Clinton has gained support. Several Republican voters say they grow leery every time Mr. Trump speaks these days, for fear he will embarrass them, and feel increasingly repelled just when they hoped he might adjust his message to try to draw more people in. “I liked that he was politically incorrect. But now I feel, enough already,” Trish Grove, a banker, said as she finished lunch at a diner here in Doylestown, a bellwether suburb north of Philadelphia. “He’s not going to win a majority of voters by sounding offensive and ridiculous. ” After the conventions in late July, Mrs. Clinton’s support among young people rose 12 percent, and she gained ground among liberals and moderates, according to an analysis of a New York   News poll before the conventions and a CBS News poll after them. Mr. Trump improved only with voters who held bachelor’s degrees but did not attend graduate school. “Undecided voters still have a long way to go before they vote for Trump,” said Frank Luntz, a Republican strategist who holds focus groups with voters. “He has high unfavorable ratings with so many voters that he would need to win most of the rest of the electorate, and his   problems aren’t helping him grow. ” Mr. Trump’s troubles are perhaps most pronounced in Pennsylvania, which he has targeted for victory in November even though the state has gone Democratic in the last six presidential elections. He is running strong in the traditionally conservative western part of the state, and his advisers argue that his populist views on trade, immigration and foreign policy could resonate with independents and   Democrats. “We have to win Pennsylvania,” Mr. Trump said on Friday during a campaign rally in Erie. “We win Pennsylvania, we’re going to win it,” apparently a reference to the presidency. But to carry the state, pollsters say, Mr. Trump would need to beat Mrs. Clinton here in the Philadelphia suburbs, where President Obama defeated Mitt Romney in 2012 by about nine percentage points. (Mr. Obama carried the state by about five points.) Yet Mrs. Clinton holds a wide lead in those suburbs, 52 percent to 26 percent, according to an NBC   Street   College poll published Wednesday. “There is absolutely no way Trump wins Pennsylvania unless he can broaden his appeal significantly and overcome his huge deficit in the suburbs,” said G. Terry Madonna, director of the Franklin  Marshall College poll and a longtime analyst of Pennsylvania politics. “He does well with white   voters, but there simply aren’t enough of them in Pennsylvania to win. And he can’t stick with his political message for more than five minutes. ” Mr. Trump’s advisers expressed confidence in their strategy and questioned whether public polls fully reflect his support. While some did express concern that there could be a ceiling on his support among women and members of minority groups, they also said he had room to grow among   voters, white men and independents  —   who, they said, will not pay attention to the race until the presidential debates begin in late September. Paul Manafort, Mr. Trump’s campaign chairman, said the debates would be critical to winning over voters, but he also pointed to increased spending by the Clinton campaign on television ads in Pennsylvania and Ohio as proof of the threat Mr. Trump poses there. “We expect to do very well in the suburbs, which will help us to carry Pennsylvania,” Mr. Manafort said. “The demographics are very positive for Donald Trump and the issue agenda favors Donald Trump in Pennsylvania. ” A Clinton campaign spokesman did not respond to a request for comment, but several of Mrs. Clinton’s advisers and allies said they were highly optimistic that she would carry Pennsylvania and most other Rust Belt states. There are few greater threats to candidates than a ceiling on their support, which is why many take more moderate positions during the general election in hopes of appealing to the broadest possible constituency. Republicans and Democrats have a history of nominating presidential candidates genial and ideologically flexible enough to expand their support beyond party loyalists. Mr. Trump and Mrs. Clinton have historically high unfavorability ratings and extremely low favorability ratings among undecided voters. Yet since the conventions, Mrs. Clinton has focused her message and campaign schedule on undecided voters in swing states. Mr. Trump has shown little interest in changing his unorthodox approach: In an interview on CNBC on Thursday he said he would “just keep doing the same thing I’m doing right now,” even if he ended up losing. Many   voters here in Bucks County said in interviews that Mr. Trump seemed almost to be willfully trying to alienate them: He says the right things about repealing the Affordable Care Act and cutting taxes, but then appears to revel in insulting women and Mexicans and singling out Muslims for harsh treatment. Several voters also cited Mr. Trump’s mocking of a disabled reporter, and others said that he seemed too hotheaded in confrontational situations, such as when he came under criticism from Khizr Khan, the father of the United States Army officer killed in Iraq, during his speech at the Democratic convention. “America’s role in the world matters to me, and I don’t want a president who yells at other people,” said Adam Woldow, a dermatologist in Richboro, Pa. who said he voted for Mr. Romney in 2012 and John McCain in 2008. As he waited for his station wagon to emerge from a carwash, Dr. Woldow paused to consider why Mr. Trump bothered him so much. “He just has so much baggage at this point, all the things he keeps saying,” he said. “I feel he’s even a bit racist. ” Dr. Woldow said he was leaning toward Gary Johnson, the Libertarian candidate. Penny   an independent from Morrisville, Pa. who also voted for Mr. Romney, said she was dismayed when Mr. Trump insinuated that Mr. Khan’s wife, Ghazala, had not been “allowed” to speak when she appeared alongside him at the convention. “Who is Trump to make these judgments? Trump speaks all the time with his own wife by his side, silent,” Ms.   said while perusing the lunch menu at a diner in Doylestown. “He should be talking about issues if he wants to actually win people over. ” But Mariann Davies, a lawyer in Doylestown who supports Mr. Trump, predicted that his popularity would grow among voters who do not want Mrs. Clinton to continue the Obama administration’s policies. “He’s talking about the issues everyone is pussyfooting around,” Ms. Davies said of Mr. Trump. “I think he could attract more voters if he would just focus on trade policy and jobs because people around here care a lot about those things. ” For most politicians, a       approach has limits: Candidates who offend too many voters, or look overly impulsive or intemperate, generally lose. But Mr. Trump believes that voters who have seen hard times in their communities will embrace him as a truth teller. In the   cities of northeast Pennsylvania, a traditionally Democratic area where Mr. Trump would need to overperform, several voters said they were skeptical of his leadership skills even though they shared his concerns about immigration and national security. Ody Draklellis, a Republican who owns the Queen City Diner in Allentown, said people in the area were open to Mr. Trump because they mistrusted Mrs. Clinton and were tired of Mr. Obama’s policies. But Mr. Trump’s main problem, Mr. Draklellis added, “is Mr. Trump himself. ” “Could Trump be a good president? Probably. But he might get us into a war, so the risk is too high,” said Mr. Draklellis, who has not chosen a candidate. “You would think he’d be totally focused on all of Hillary’s vulnerabilities. He could grow in the polls that way. Instead he just shoots his mouth off. ”