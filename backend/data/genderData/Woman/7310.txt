WASHINGTON  —   Zar Mohammad Stanikzai remembers the promise made to him when he became a translator supporting the United States military in 2012: Help us, and we will keep you safe. Four years later, his fear of Taliban reprisals has made him a prisoner in his Afghan home, he said, and he is still waiting for the Americans to honor their commitment. Instead, Congress is bickering over the program meant to be his deliverance. Republican infighting, infused with nativist tones, has left in question whether a special visa program for translators and interpreters who assisted the military during the wars in Afghanistan and Iraq will be renewed, a potentially devastating blow to approximately 12, 000 Afghans whose immigration applications are in limbo. “We’ve really been trying to reinforce the fact to Afghans that we are committed to you, and this gives the enemy some propaganda to say, ‘Hey, these people really aren’t committed to you,’ ” said Brig. Gen. Charles H. Cleveland, spokesman for the American command in Afghanistan. “It’s our credibility that is on the line,” he added. Senator John McCain of Arizona, chairman of the Senate Armed Services Committee and a longtime champion of the visa program, was blunt. “People are going to die,” Mr. McCain said on the Senate floor, challenging a fellow Republican who was blocking more visas. “Don’t you understand the gravity of that?” For more than eight years, the State Department has offered a visa program designated for many of those who face an “ongoing serious threat” as a result of having provided critical linguistic support  —   whether in oral interpretation or written translation  —   in Afghanistan and Iraq. In the last two and a half years, officials say, they have issued visas to more than 8, 000 Afghans and their immediate families through the program, which members of the armed services, military officials and lawmakers from both parties have hailed as indispensable to national security. Congress has responded to the State Department’s program parsimoniously, allocating the special visas piecemeal through its annual defense policy bill. Since the end of 2014, lawmakers have set aside about 7, 000 visas for Afghan translators and interpreters. As of July 10, fewer than 3, 000 of those visas remained, but about 12, 000 individuals have at least started the application process, according to the State Department. Applicants must apply by Dec. 31 in order to be considered. Then this year, something changed: A few Republicans said no, asking whether more visas were necessary when the State Department still had visas from previous years that could be distributed. Senator Charles E. Grassley of Iowa, chairman of the Senate Judiciary Committee  —   which has jurisdiction over immigration matters  —   also questioned the cost of adding the 4, 000 visas that the Obama administration requested this year, pointing to a Congressional Budget Office estimate of $446 million over the next 10 years. After Congress failed to approve more visas in the House and Senate defense bills, a bipartisan group of senators tried again last month with a compromise that would have added 2, 500 visas  —   only to be blocked by Senator Mike Lee, Republican of Utah, who said his quarrel was not with the visa program but rather with the fact that it was getting a vote while one of his own, unrelated measures was not. Mr. McCain responded by accusing Mr. Lee of “signing the death warrants” of people who had put their lives on the line to help the United States. Mr. Stanikzai would agree. Now 24, he first applied in 2013 for one of the visas, writing to American officials later that year that an imam had warned his father that his son must stop working for the Americans or be killed. He then described how he came under fire as he drove home from his mosque, his car hit by three rounds from an   he said. If the Taliban find him  —   or any of the Afghans hoping the United States will grant them visas  —   “they will kill us,” he said in an interview. Yet with neither the House nor the Senate approving more visas in their competing defense policy bills, lawmakers hashing out a compromise this fall may be unlikely to step in. Much of the resistance seems to stem from a growing discomfort with immigrants, said Senator Jeanne Shaheen, Democrat of New Hampshire and one of the visa program’s most active supporters. One Republican counterproposal this year would have offset each special visa by deducting one   visa from the 50, 000 allocated every year to ordinary immigrants. “What that said to me is that the issue here is not really the special immigrant visas for our interpreters,” she said. “It was, ‘How do we keep from allowing more people into the United States?’ ” In an election year in which many voters have cheered Donald J. Trump’s call to keep out migrants from Muslim countries, Ryan C. Crocker, who served as ambassador to Afghanistan and Iraq, saw more troubling motivations. “I haven’t heard members say that openly, but I sometimes wonder if behind a reluctance to move in a positive fashion lurks that   sentiment,” he said. John Kirby, the State Department’s spokesman, said the vetting of applicants included fingerprint and facial recognition checks as part of a full counterterrorism screening. The government has struggled to keep pace with the influx of Afghan and Iraqi applications for special visas and changes to the eligibility rules made by lawmakers, mistakenly disqualifying some applicants and trapping others in a holding pattern that lasts months or even years. That is time, several translators and interpreters said, that the applicants cannot afford to waste as they face serious threats to their lives every day. As the Obama administration works out those problems, congressional inaction would turn off the spigot at the end of the year and shut out any new applications. That has horrified program supporters, including many military officers. Gen. David H. Petraeus and Gen. Stanley A. McChrystal, former commanders of the United States forces in Afghanistan, as well as Gen. John W. Nicholson Jr. the current commander, have pressed Congress to renew the program. Simply debating whether to help those who helped the United States is damaging, Mr. Crocker said, because it leaves people wondering, as he put it, “What kind of people are those Americans?” Mohammad Nasim Hashimyar, 29, said he worked with the American Special Forces in Afghanistan for a little more than a year, but his visa was rejected because of a “lack of faithful and valuable service,” according to the letter he received from the American Embassy. He kept it along with a handful of certificates of appreciation and letters of recommendation from soldiers he helped, including one who wrote that Mr. Hashimyar was “the key to success” in many of their efforts. He has appealed his rejection. Facing threats to him and his family, he said he avoided leaving his home when possible, and he carried a gun. “I wish I have never worked with them,” he said. “I destroyed my life. ”