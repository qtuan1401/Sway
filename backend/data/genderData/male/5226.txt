LONDON  —   President Obama has called on the British people not to vote for an exit from the European Union, writing in an opinion article published upon his arrival in London late Thursday night that “the European Union doesn’t moderate British influence  —   it magnifies it. ” In the article in The Telegraph, Mr. Obama, making a case he has made numerous times before in Washington, wrote that the United States would prefer Britain to remain a full member of the European Union. Britons will vote on June 23 in a referendum on whether to remain in or leave the bloc. The last such referendum was in 1975, and Britons voted by nearly two to one to stay. But the vote is expected to be closer in June, and some prominent British advocates of quitting the European Union have criticized Mr. Obama’s intervention. London’s mayor, Boris Johnson, one of the public leaders of the campaign for Britain’s exit, has accused Mr. Obama of hypocrisy because the United States does not share sovereignty with its neighbors the way Britain now does with the European Union. In the article, Mr. Obama responded directly to that criticism, asserting that the challenges facing Europe are not different from the ones facing the United States. “And in today’s world, even as we all cherish our sovereignty, the nations who wield their influence most effectively are the nations that do it through the collective action that today’s challenges demand,” the president wrote. Mr. Obama starts the first of four days in Europe on Friday by paying homage to one of its most enduring institutions, making his first visit to Windsor Castle to attend a royal lunch with Queen Elizabeth II a day after her 90th birthday. But he arrives with a grim warning that he will deliver in a series of meetings with several political leaders: Europe is in danger of being pulled apart by threats to its security and economy that can be overcome only by greater cooperation and a unity that appears increasingly elusive. In the article, Mr. Obama praised the creation of what he called “international institutions and initiatives” to promote peace and democracy, including the European Union and NATO. “Today, we face tests to this order  —   terrorism and aggression migration and economic headwinds  —   challenges that can only be met if the United States and the United Kingdom can rely on one another, on our special relationship, and on the partnerships that lead to progress,” Mr. Obama wrote. Terrorist attacks like the ones in Brussels and Paris have exposed shortcomings in the gathering and sharing of intelligence that have left Europe vulnerable and scared. War in Syria, where the most recent   appears to be failing, has produced a flood of migrants that is causing political and economic turmoil in Europe. The   aggression in Ukraine has raised new questions about the effectiveness of the NATO alliance. And the vote in June threatens to cleave Britain from the European Union, potentially stalling one of the world’s most successful economic powerhouses. “Because of a host of issues  —   from migration to sluggish economic growth to the terrorist threat  —   the European Union today faces challenges from populism and other threats to its ” said Charles Kupchan, a senior adviser to Mr. Obama for European issues. “The E. U. is one of the great accomplishments of the   War II era. It has succeeded in helping remove war from Europe, and we are concerned about the health and vitality of that experiment. ” Mr. Obama traveled to Britain after a series of meetings in Saudi Arabia, where he said Thursday that the United States would continue to enhance security cooperation with its allies in the Persian Gulf, while encouraging them to carry out domestic reforms and bolster their ability to defend themselves. During those meetings, he discussed a variety of issues with the members of the Gulf Cooperation Council  —   Saudi Arabia, the United Arab Emirates, Bahrain, Qatar, Kuwait and Oman  —   including the civil wars in Yemen, Syria and Libya, military and economic cooperation, and the fight against terrorist groups like the Islamic State. But Mr. Obama left without announcing any concrete plans or initiatives on any of those matters. In a meeting planned for Friday afternoon with Prime Minister David Cameron of Britain, Mr. Obama will urge his counterpart to increase intelligence sharing and cooperation among European countries so that they can better counter terrorist threats, including attacks by the Islamic State and Al Qaeda, aides to the president said. On Sunday, Mr. Obama will discuss the Syrian migration crisis with Chancellor Angela Merkel of Germany. Benjamin J. Rhodes, the president’s deputy national security adviser, said Mr. Obama would applaud Ms. Merkel for her efforts to absorb Syrian refugees, even at great political cost. And he will pledge United States support for the recent deal that the European Union made with Turkey to accept Syrian migrants. Then on Monday, the president will meet with the leaders of Britain, France, Germany and Italy. Among the messages for the group will be his contention that they must take more responsibility for their own security. That will be a familiar refrain to Mr. Obama’s colleagues, who will recall that he made a similar  —   if more blunt  —   observation in a recent article in The Atlantic in which he accused some European allies of being “free riders” who rely on help from the United States instead of investing in their own militaries. “There’s this greater sense of unraveling, if you will, of the European project,” said Heather Conley, a former State Department official and the senior vice president at the Center for Strategic and International Studies in Washington. That concern is likely to be set aside during Mr. Obama’s visit with the queen, and during his dinner on Friday night with the Duke and Duchess of Cambridge at Kensington Palace.