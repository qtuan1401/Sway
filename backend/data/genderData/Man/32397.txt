Washington (CNN) The   House voted Thursday to repeal an   regulation that required the Social Security Administration to disclose to the national gun background check system information about people with mental illness.  The regulation instituted in the final days of the Obama administration required the SSA to share information about those who are considered incapable of managing their own disability benefits due mental illness. The rule sought to limit the ability of those with mental illness to purchase guns but drew criticism for casting too wide a net and not providing the opportunity for due process. Opponents of the rule, including the National Rifle Association and the American Civil Liberties Union, also said the broad range of reasons that could be used to designate someone for the SSA database include conditions that should not stop a gun purchase. The vote was  .  ”The Social Security Administration not only overstepped its mission with this regulation, it discriminated against certain Americans with disabilities who receive Social Security benefits. The agency should be focused on serving all of its beneficiaries, not picking and choosing whose Second Amendment rights to deny,” said Rep. Kevin Brady,   who chairs the Ways and Means Committee. Democrats complained that repealing the rule, which was adopted in the waning days of the Obama administration, would lead to more gun violence. ”The American people and the families that are being hurt day after day by gun violence    they deserve some due process too,” said Rep. Lloyd Doggett,  .  Republicans are using the Congressional Review Act to roll back all manner of regulations put in place by Obama before he left office.  The Senate is expected to pass the National Rifle   measure soon and President Donald Trump is expected to sign it.