SAN FRANCISCO  —   With sales sluggish and stiffening competition from rivals like Google and Facebook, Apple announced on Monday coming improvements to the software that runs its devices, including a revamped Music app, an easier login process and better   across devices. More significantly, it also made it easier for app developers to tap the full power of Apple’s technology  —   from its Siri voice assistant to instant messaging and Apple Pay  —   in their own apps. “We believe it is crucial that we provide the best tools so you can produce the best apps,” Apple’s chief executive, Tim Cook, told a crowd of about 5, 000 assembled here for the company’s annual worldwide developer conference.   developers write the apps that make an iPhone or a Mac more useful and personal. As the company struggles with flat sales of its products, Apple has been trying to mend its sometimes troubled relationship with the people who have filled its App Store with two million apps. On Monday, Apple said it was allowing access to two of its crown jewels  —   Siri and its messaging app, iMessage  —   hoping that the creativity of outside developers will spur a round of innovation to make the iPhone seem as magical as it did when the first apps were introduced eight years ago. Showing off how developers could use messaging, an Apple executive opened the   app DoorDash from inside Apple iMessage and put together a joint order with friends. Earlier this year, Facebook opened up Messenger to bots, automated software assistants that can accomplish various tasks. Google also announced plans to introduce a messaging service with similar capabilities. “A lot of the messaging apps are moving toward this,” said Brian Blau, a technology analyst with Gartner who attended the event. “If Apple hadn’t announced developer access to messages, I would have been really surprised. ” Developers were also pleased to get access to Siri so they could incorporate voice commands into their own apps. Until now, Siri has mostly been limited to Apple services and has been used for tasks like conducting searches, getting directions or asking the virtual assistant to make a call. Faizan Buzdar, chief executive of Convo, a business collaboration software maker, said his company had already been using Siri to a limited extent so that customers could bookmark items that pop up in the Convo app. “But my vision would be to say, ‘What’s our revenue this week? ’” he said, adding that Siri would then open Convo, which would pull in data from its app and partner apps, and provide the answer. “That kind of natural language can really push the barriers of business. ” Initially, Siri will only be available for certain categories of apps like those providing   messaging and   services. Apple has been a leader on mobile devices since the introduction of the iPhone a decade ago. But in some critical respects, it is now playing  . For example, Google, whose Android smartphone software is more popular than Apple’s globally, uses sophisticated facial recognition technology to organize a user’s photos, and Google’s mapping service works closely with other apps to identify important locations and automatically provide directions to appointments. Apple said on Monday that it would offer similar features in the next version of its iPhone software, iOS 10, which will be released in the fall with a new crop of iPhones. Similarly, Apple’s integration of other services into iMessage mirrors what Facebook has done with Messenger and what Tencent, a major Apple rival in China, has done with WeChat messaging. Unlike Google and Facebook, which rely on uploading a user’s data to the cloud, Apple said the new features will keep data on the phone to protect user privacy. “In some ways the star of the show wasn’t a particular product but Apple’s refutation of accusations that it can’t compete with Google and Facebook in artificial intelligence and deep learning,” said Jan Dawson, chief analyst of Jackdaw Research, in an email after the presentation. Apple is a clear leader in some areas, particularly the nascent field of smartwatches. Announcing improvements to its   Watch platform, Apple said that the new version of the watch’s operating system would start apps instantly. Users will also be able to scribble responses to messages one letter at time, instead of relying on the canned responses that are currently available. The Watch remains tethered to the iPhone for most uses, and the company seems to be repositioning it as a   accessory, offering improved activity tracking and sharing. There is even a new   app. In an attempt to persuade customers to buy more Apple products, the company also introduced a host of planned features to share data between devices. The documents on the desktop of a Mac, for example, will be accessible on iPads and iPhones. Photos taken with the iPhone can be viewed on the Apple TV. Apple signaled its desire to be a player in global   where sales are expected to total $2 trillion this year, according to the research firm eMarketer. Apple said that retailers’ websites would soon be able to use Apple Pay as a checkout method, and customers could authorize a purchase with their fingerprint on their iPhone. Currently, the digital payment service is restricted to physical stores and apps, where it has gotten a lukewarm response. A few days before the conference, Apple made two other major announcements affecting developers. It will begin testing paid search ads in the App Store, which will allow developers to buy a slot at the top of the search results when a user looks for an app. Apple also said it would reduce the cut it took from subscriptions in apps to 15 percent, from 30 percent, after the first year. Whether Apple’s improvements will be enough to keep developers happily writing apps for the iPhone and other Apple products remains to be seen. If it continues to be difficult for apps to stand out in the App Store, more developers will concentrate on developing great mobile websites instead, said Cathy Boyle, principal analyst for mobile at eMarketer, a research firm. Creating an iPhone app typically costs $50, 000 to $200, 000, and some cost as much as $1 million, according to an eMarketer report last June. A website is cheaper, and while it lacks some convenience of an app, there are techniques to make a site easy for web users to find. “Developers are asking, ‘What is the additional revenue I can get from an app? ’” Ms. Boyle said.