PARIS  —   Mohamed Lahouaiej Bouhlel, who killed 84 people in a terrorist attack in Nice, France, last week, planned his assault over several months and got help from at least five people, the Paris prosecutor said on Thursday. However, although the Islamic State called the attacker one of its “soldiers,” there is as yet no evidence that he or the suspected accomplices had any direct contact with the terrorist network, the prosecutor, François Molins, who handles terrorism investigations in France, said at a news conference in Paris. Mr. Lahouaiej Bouhlel, a    Tunisian who lived in Nice, drove a cargo truck through crowds that had gathered on the city’s waterfront promenade to watch the Bastille Day fireworks on July 14. He also fired an automatic pistol at the police, before they shot and killed him. The authorities initially said they believed that Mr. Lahouaiej Bouhlel, who had not been particularly religious, had become rapidly radicalized over a few weeks before the attack. But on Thursday, Mr. Molins suggested that the attack had been planned for months. Investigators have confirmed “not only the premeditated character” of the attack but also that Mr. Lahouaiej Bouhlel “benefited from support and complicity in the preparation and carrying out of his criminal act,” Mr. Molins said. The five suspects, who were arrested in the days after the attack, were charged on Thursday evening. Mr. Molins said that the charges would include murder, attempted murder, terrorist conspiracy, and the possession and transportation of weapons. Mr. Lahouaiej Bouhlel’s estranged wife was also arrested, but was released without charges on Sunday, as was a man who had been wrongly identified as a suspect, according to Audrey Delaunay, the man’s lawyer. On Mr. Lahouaiej Bouhlel’s phone, investigators found pictures of fireworks and of the Nice promenade from last year, as well as an image of an article about Captagon, an amphetamine that has been associated in some news reports with Islamic State fighters. Also on the phone was an image of an article on a Tunisian man killed in January after he tried to attack a police station in Paris. Mr. Molins also said that investigators had uncovered pictures, text messages and phone calls that showed he had been in close contact over the past year with three men who are now suspects. The authorities identified them as Ramzi A. 21, a native of Nice and a dual   citizen Chokri C. 37, a Tunisian born in Sousse, Tunisia and Mohamed Oualid G. 40, a dual   citizen born in La Marsa, Tunisia. Mohamed Oualid G. and Mr. Lahouaiej Bouhlel called each other 1, 278 times over the last year. Mohamed Oualid G. sent Mr. Lahouaiej Bouhlel a text message praising the attack on the satirical newspaper Charlie Hebdo in January 2015, Mr. Molins said, and investigators found pictures on Mohamed Oualid G. ’s phone of the aftermath of the attack in Nice. Investigators also found pictures on Mr. Lahouaiej Bouhlel’s phone from July 11 and July 13 of Mohamed Oualid G. in the truck used for the attack, he said. On April 4, Chokri C. sent Mr. Lahouaiej Bouhlel a Facebook message advising him to “load the truck” and to “cut the brakes, my friend, and I’ll watch,” Mr. Molins said. His fingerprints were also found on the truck’s passenger door, and he was recorded by a surveillance camera in the truck beside Mr. Lahouaiej Bouhlel, on the promenade in Nice, less than three hours before the attack, Mr. Molins said. A text message sent by Mr. Lahouaiej Bouhlel to Ramzi A. just minutes before the attack thanked him for an automatic pistol, which he then used to shoot at the police, and “asked for new ones,” Mr. Molins said. Like Mr. Lahouaiej Bouhlel, none of the men were known to French intelligence services, Mr. Molins said. Ramzi A. had a criminal record with convictions for theft, violence and drug use between 2013 and 2015. An Albanian couple  —   Artan H. 38, and Enkeledja Z. 42, who also holds French citizenship  —   also face criminal proceedings. They are suspected of having helped Mr. Lahouaiej Bouhlel obtain the 7.  automatic pistol that he used. Questions continued to be raised about security measures in Nice on the night of the attack, which killed not only French citizens who had been celebrating their national holiday, but also people of 19 other nationalities, including citizens of Algeria, Brazil, Estonia, Kazakhstan, Madagascar and the United States. France’s Socialist government has sparred repeatedly with opposing politicians on the right and far right, especially local officials in Nice, over how many national and municipal officers were securing the promenade on the night of the attack and how they were spread out. The national police answer to the state, whereas municipal officers answer to city authorities. The newspaper Libération reported on Thursday that only one municipal police car was positioned at the spot where Mr. Lahouaiej Bouhlel barreled through and onto the promenade, and it said that although national and city officials had agreed on  —   and stuck to  —   a security plan for Bastille Day, the government had misrepresented those measures after the attack. Interior Minister Bernard Cazeneuve, while denying that accusation, has ordered an internal police investigation, separate from the continuing judicial one, which will look into the Bastille Day security measures in Nice. Questions have also been raised about why the authorities did not position heavy obstacles at the entrances to the promenade’s pedestrian area, to block vehicles from entering. The authorities across France are rushing to strengthen security at the dozens of events over the summer. They have added vehicular barriers at Paris Plages, an annual event that turns sections of the Seine’s embankments into artificial beaches, and have canceled events like an   film festival and a pedestrian day on the  . On Thursday, the French Parliament also passed a bill extending for an additional six months the state of emergency that was declared after the November attacks that killed 130 people in and around Paris. It grants the French authorities extraordinary policing powers, such as the ability to carry out police raids or place people under house arrest without a judge’s authorization. The latest extension, which would last until the end of January, would make this state of emergency the longest since the 1950s. In addition, legislation passed on Thursday gives the government new powers. For example, under the state of emergency, the police will be allowed to seize computers and phones and copy the data on them without prior judicial authorization. And from now on, the government will be able to place a person returning from Syria or Iraq under house arrest for up to three months instead of one.